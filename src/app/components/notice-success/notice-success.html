<div class="container">
    <!-- Header -->
    <header class="header">
        <button class="back-btn" (click)="goBack()">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M15 18L9 12L15 6" stroke="white" stroke-width="2" stroke-linecap="round"
                    stroke-linejoin="round" />
            </svg>
        </button>
        <div class="header-center">

            <span class="booking-id">{{ userId }}</span>
        </div>
        <button class="notification-btn" (click)="openNotifications()">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
                <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
            </svg>
            <span class="dot"></span>
        </button>
    </header>

    <!-- Unconfirmed State -->
    <div class="main-content" *ngIf="!isConfirmed">
        <div class="illustration-container">
            <img src="assets/images/noticesubmitted.png" alt="Notice Submitted" class="illustration">
        </div>

        <h1 class="page-title">Notice Submitted!</h1>

        <div class="move-out-strip">
            <span class="label">Move-out date</span>
            <span class="value">{{moveOutDate}}</span>
        </div>

        <div class="countdown-container">
            <div class="time-group">
                <div class="digit-row">
                    <div class="time-box">
                        <span class="time-value">{{daysTens}}</span>
                        <div class="calendar-top"></div>
                    </div>
                    <div class="time-box">
                        <span class="time-value">{{daysOnes}}</span>
                        <div class="calendar-top"></div>
                    </div>
                </div>
                <span class="time-label">DAYS</span>
            </div>

            <span class="time-colon">:</span>

            <div class="time-group">
                <div class="digit-row">
                    <div class="time-box">
                        <span class="time-value">{{hoursTens}}</span>
                        <div class="calendar-top"></div>
                    </div>
                    <div class="time-box">
                        <span class="time-value">{{hoursOnes}}</span>
                        <div class="calendar-top"></div>
                    </div>
                </div>
                <span class="time-label">HOURS</span>
            </div>
        </div>
    </div>

    <!-- Confirmed State with Circular Countdown -->
    <div class="main-content confirmed-content" *ngIf="isConfirmed">
        <app-countdown-circle [targetDate]="moveOutDateTime" (countdownComplete)="onCountdownComplete()">
        </app-countdown-circle>

        <p class="confirmed-message" *ngIf="!canMoveOut">
            Sit and relax, you will get further instructions<br>on the day of move-out
        </p>

        <p class="confirmed-message arrival-message" *ngIf="canMoveOut">
            The time has arrived-your move-out day is<br>here! Click below to move out!
        </p>
    </div>

    <!-- Unconfirmed Footer -->
    <div class="footer" *ngIf="!isConfirmed">
        <button class="btn-confirm" (click)="confirmMoveOut()">Confirm move-out date</button>
        <button class="btn-next" (click)="changeMoveOutDate()">Change move-out date</button>
    </div>

    <!-- Confirmed Footer -->
    <div class="footer" *ngIf="isConfirmed">
        <button class="btn-moveout" [disabled]="!canMoveOut" (click)="moveOut()">Move-out</button>
        <button class="btn-whats-next" (click)="seeWhatsNext()">See what's next</button>
    </div>
</div>
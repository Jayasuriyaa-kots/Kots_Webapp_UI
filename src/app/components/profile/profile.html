<div class="profile-container">
    <!-- Header -->
    <header class="header">
        <button class="back-btn" (click)="goBack()">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M15 18l-6-6 6-6" />
            </svg>
        </button>

        <div class="header-center">

            <div class="booking-id">{{ userId || 'Loading...' }}</div>
        </div>

        <button class="notification-btn" (click)="openNotifications()">
            <img src="assets/images/notification-icon.svg" alt="Notifications" />
        </button>
    </header>

    <!-- Profile Section -->
    <section class="profile-section">
        <div class="profile-avatar-wrapper" (click)="changeProfilePicture()">
            <img [src]="currentAvatar" alt="Profile" class="profile-avatar" />
            <div class="camera-icon">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 15.2a3.2 3.2 0 100-6.4 3.2 3.2 0 000 6.4z" />
                    <path
                        d="M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z" />
                </svg>
            </div>
        </div>

        <!-- Avatar Selection Dialog -->
        <div class="avatar-dialog-overlay" *ngIf="showAvatarDialog" (click)="closeAvatarDialog()">
            <div class="avatar-dialog" (click)="$event.stopPropagation()">
                <h3>Choose Avatar</h3>
                <div class="avatar-options">
                    <div class="avatar-option" *ngFor="let avatar of avatars" (click)="selectAvatar(avatar.src)">
                        <img [src]="avatar.src" [alt]="avatar.label">
                        <span>{{ avatar.label }}</span>
                    </div>
                </div>
            </div>
        </div>
        <h1 class="user-name">{{ userName }}</h1>
    </section>

    <!-- Menu Items -->
    <section class="menu-section">
        <div class="menu-item" *ngFor="let item of menuItems" (click)="navigateTo(item.route)">
            <div class="menu-icon">
                <ng-container [ngSwitch]="item.icon">
                    <svg *ngSwitchCase="'wifi'" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                        <path
                            d="M12 18c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1zm-4.24-4.24l1.42 1.42c1.56-1.56 4.1-1.56 5.66 0l1.41-1.42c-2.34-2.34-6.14-2.34-8.49 0zM1.01 7.01l1.42 1.41c5.14-5.14 13.49-5.14 18.63 0l1.42-1.41C16.29.82 7.19.82 1.01 7.01zm3.07 3.07l1.42 1.42c3.13-3.13 8.21-3.13 11.34 0l1.42-1.42c-3.91-3.91-10.26-3.91-14.18 0z" />
                    </svg>
                    <svg *ngSwitchCase="'splinty'" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                        <path
                            d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z" />
                    </svg>
                    <svg *ngSwitchCase="'contract'" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                        <path
                            d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z" />
                    </svg>
                    <svg *ngSwitchCase="'faq'" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                        <path
                            d="M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z" />
                    </svg>
                </ng-container>
            </div>
            <span class="menu-title">{{ item.title }}</span>
            <svg class="arrow-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                stroke-width="2">
                <path d="M9 18l6-6-6-6" />
            </svg>
        </div>

        <!-- Logout -->
        <div class="menu-item logout" (click)="logout()">
            <div class="menu-icon logout-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                    <path
                        d="M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z" />
                </svg>
            </div>
            <span class="menu-title logout-text">Log out</span>
        </div>
    </section>
</div>
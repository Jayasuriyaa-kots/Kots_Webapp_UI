<div class="container">
    <!-- Header -->
    <header class="header">
        <button class="back-btn" (click)="goBack()">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M15 18L9 12L15 6" stroke="white" stroke-width="2" stroke-linecap="round"
                    stroke-linejoin="round" />
            </svg>
        </button>
        <div class="header-center">

            <span class="booking-id">{{currentBookingId || 'Loading...'}}</span>
        </div>
        <button class="notification-btn" (click)="openNotifications()">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
                <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
            </svg>
            <span class="dot"></span>
        </button>
    </header>

    <h1 class="page-title">Account details</h1>

    <!-- Loading State -->
    <div class="loading" *ngIf="isLoading">
        <p>Loading contract details...</p>
    </div>

    <div class="main-content" *ngIf="!isLoading && contractDetails">
        <!-- Details Card -->
        <div class="details-card">
            <!-- Booking Details Section -->
            <div class="section-title">
                Booking details
                <svg class="copy-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#AFA11E"
                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                    (click)="copyToClipboard(contractDetails.booking.bookingId)">
                    <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                    <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                </svg>
            </div>

            <div class="detail-row">
                <span class="label">Booking ID :</span>
                <span class="value">{{contractDetails.booking.bookingId}}</span>
            </div>
            <div class="detail-row">
                <span class="label">Contract Start Date :</span>
                <span class="value">{{contractDetails.booking.contractStartDate}}</span>
            </div>
            <div class="detail-row">
                <span class="label">Contract End Date :</span>
                <span class="value">{{contractDetails.booking.contractEndDate}}</span>
            </div>
            <div class="detail-row">
                <span class="label">Lock in Period :</span>
                <span class="value">{{contractDetails.booking.lockInPeriod}}</span>
            </div>
            <div class="detail-row">
                <span class="label">Lock in End Date :</span>
                <span class="value">{{contractDetails.booking.lockInEndDate}}</span>
            </div>
            <div class="detail-row">
                <span class="label">Notice status :</span>
                <span class="value">{{contractDetails.booking.noticeStatus}}</span>
            </div>
            <div class="detail-row">
                <span class="label">Contract Termination Date :</span>
                <span class="value">{{contractDetails.booking.contractTerminationDate}}</span>
            </div>

            <!-- Flat Details Section -->
            <div class="section-title mt-4">
                Flat details
                <span class="icons">
                    <svg class="share-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#AFA11E"
                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="18" cy="5" r="3"></circle>
                        <circle cx="6" cy="12" r="3"></circle>
                        <circle cx="18" cy="19" r="3"></circle>
                        <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line>
                        <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>
                    </svg>
                    <svg class="copy-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#AFA11E"
                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                        (click)="copyToClipboard(contractDetails.flat.address)">
                        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                    </svg>
                </span>
            </div>

            <div class="detail-row">
                <span class="label">Flat number :</span>
                <span class="value">{{contractDetails.flat.flatNumber}}</span>
            </div>
            <div class="detail-row">
                <span class="label">Block :</span>
                <span class="value">{{contractDetails.flat.block}}</span>
            </div>
            <div class="detail-row">
                <span class="label">Property Name :</span>
                <span class="value">{{contractDetails.flat.propertyName}}</span>
            </div>
            <div class="detail-row address-row">
                <span class="label">Address :</span>
                <span class="value">{{contractDetails.flat.address}}</span>
            </div>
        </div>

        <!-- Notice Card -->
        <div class="notice-card">
            <div class="notice-content">
                <h2>Notice</h2>
                <p>Do you wish to vacate the flat?</p>
            </div>
            <button class="btn-start" (click)="startNotice()">
                Start
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <line x1="5" y1="12" x2="19" y2="12"></line>
                    <polyline points="12 5 19 12 12 19"></polyline>
                </svg>
            </button>
        </div>
    </div>
</div>
